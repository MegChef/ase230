---
marp: true
theme: default
class: lead
paginate: true
---

<!-- _class: frontpage -->
<!-- _paginate: skip -->

# Laravel with Composer Managing Multi-Container Setup

Professional Laravel Development with Container Orchestration

---

## Why Composer + Docker for Laravel?

### Best of Both Worlds:

```txt
Composer Strengths:
âœ… Laravel dependency management
âœ… Automated scripts and tasks
âœ… Package installation and updates
âœ… Development workflow optimization

Docker Strengths:
âœ… Environment consistency
âœ… Service isolation
âœ… Production deployment
âœ… Infrastructure as code
```

### The Synergy:

**Composer manages Laravel complexity, Docker manages infrastructure complexity**

---

## Architecture Overview

### Complete Laravel Stack:

```txt
[Browser] â†’ [NGINX] â†’ [PHP-FPM] â†’ [Laravel App] â†’ [MySQL]
              â†“          â†“           â†“            â†“
          [Static]   [Composer]   [Artisan]   [Redis Cache]
            Files    Dependencies  Commands    Session Store
```

### Management Approach:

- **Composer**: Handles Laravel dependencies, scripts, and automation
- **Docker**: Provides consistent runtime environment
- **Laravel**: Application framework and business logic
- **Artisan**: Laravel's command-line interface

---

## `setup.sh`

Instead of giving commands manually, we can use a shell script `setup.sh` (in `code/4_Docker/4. Containerizing Laravel with Docker`).

1. Copy the directory (code/4_Docker/4. Containerizing Laravel with Docker) to anything you choose to use, for example, `~/ex`.
2. Change to the copied directory (`cd ~/ex`).
3. Run the `setup.sh` to make a Laravel project (`bash setup.sh`).
    - It will generate a `hello` Laravel project in the directory.
4. You can change the project name with `bash setup.sh YOUR_PROJECT_NAME`.

---

### For Windows Users

**In case you use WSL2:**

You can run this script without problem, but be sure to run `dos2unix setup.sh` when you have an EOL (End of Line) issue (such as  $'\r': command not found).

**In case you can't use WSL2:**

1. Copy the directory.
2. Change to the copied directory.
3. Run each command line by line to get the same results.

---

### What is this script?

- Creates a new web application (Laravel)
- Puts it in containers (Docker)
- Sets up a database
- Makes everything work together automatically

**Like ordering a pizza** ğŸ•: You just run one command, and everything is prepared for you!

---

### ğŸ“‹ Step 1: Getting Ready

```bash
#!/bin/bash
set -e
```

**What happens:**

- The script starts
- `set -e` = "Stop if anything goes wrong" (safety first!)
- Sets up pretty colors for messages (Red, Green, Blue, Yellow)

**Think of it as:** Putting on your apron before cooking ğŸ‘¨â€ğŸ³

---

### ğŸ“ Step 2: Choose Your Project Name

```bash
if [ -z "$1" ]; then
    LARAVEL_DIR="hello"
else
    LARAVEL_DIR=$1
fi
```

**What happens:**

- If you don't give a name â†’ uses "hello"
- If you do give a name â†’ uses your name

**Examples:**

- `./setup.sh` â†’ creates "hello" project
- `./setup.sh myapp` â†’ creates "myapp" project

---

### ğŸ—ï¸ Step 3: Create Laravel Project

```bash
composer create-project laravel/laravel "$LARAVEL_DIR"
```

**What happens:**

- Downloads Laravel (a web framework)
- Creates all the necessary files
- Like downloading and installing an app on your phone

**Analogy:** Building a house foundation ğŸ 

- Laravel = the basic structure of your web application

---

### ğŸ“ Step 4: Copy Docker Files

```bash
cp -r "$SCRIPT_DIR/docker" .
cp "$SCRIPT_DIR/docker-compose.yml" .
```

**What happens:**

- Copies special Docker configuration files
- These tell Docker how to set up your containers

**Analogy:** Copying a recipe ğŸ“

- The recipe tells Docker how to "cook" your application

---

### ğŸ”§ Step 5: Update Configuration

```bash
sed -i "s|\./hello:|./${LARAVEL_DIR}:|g" docker-compose.yml
```

**What happens:**

- Updates the configuration to use YOUR project name
- Changes "hello" to whatever name you chose

**Analogy:** Writing your name on your homework ğŸ“

- Makes sure Docker knows which project is yours

---

### âš™ï¸ Step 6: Environment Setup

```bash
cp "$SCRIPT_DIR/.env.docker" "$LARAVEL_DIR/.env"
```

**What happens:**

- Copies database connection settings
- Sets up environment variables (like settings)

**Analogy:** Programming your TV remote ğŸ“º

- Tells Laravel how to connect to the database

---

### ğŸ³ Step 7: Start Docker Containers

```bash
docker-compose up -d
```

**What happens:**

- Starts 3 containers:
  - **Web Server** (runs your Laravel app)
  - **Database** (stores your data)
  - **PHP** (runs your code)

**Analogy:** Starting a restaurant ğŸ½ï¸

- Kitchen (PHP), Dining room (Web Server), Storage (Database)

---

### â³ Step 8: Wait and Check

```bash
sleep 15
# Check if MySQL is ready...
```

**What happens:**

- Waits for containers to start fully
- Tests database connection multiple times
- Like waiting for your computer to boot up

**Why wait?** Containers need time to initialize, just like apps on your phone

---

### ğŸ”‘ Step 9: Generate Security Key

```bash
docker exec laravel-php php artisan key:generate
```

**What happens:**

- Creates a unique security key for your app
- This key encrypts sensitive data

**Analogy:** Creating a password for your app ğŸ”

- Every Laravel app needs its own unique key

---

### ğŸ—„ï¸ Step 10: Set Up Database

```bash
docker exec laravel-php php artisan migrate
```

**What happens:**

- Creates database tables
- Sets up the database structure

**Analogy:** Building shelves in a warehouse ğŸ“¦

- Creates organized storage for your data

---

### ğŸ‰ Step 11: Success Message

```bash
echo "ğŸŒ Your Laravel application is ready!"
echo "   Visit: http://localhost:8080"
```

**What you get:**

- A working web application
- Accessible at `<http://localhost:8080>`
- Useful commands to manage your app

---

### ğŸ§  What Actually Happened?

**Before:** Nothing âŒ
**After:** Complete web development environment âœ…

1. **Laravel App** â†’ Your web application code
2. **Database** â†’ Stores your data (users, posts, etc.)
3. **Web Server** â†’ Serves your app to browsers
4. **All Connected** â†’ Everything talks to each other

---

### ğŸ“Š The Big Picture

```txt
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Browser   â”‚â—„â”€â”€â–ºâ”‚   Web Server    â”‚â—„â”€â”€â–ºâ”‚   PHP Laravel   â”‚
â”‚   (You/Users)   â”‚    â”‚   (Port 8080)   â”‚    â”‚   Application   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚    Database     â”‚
                                              â”‚     (MySQL)     â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ› ï¸ Useful Commands You Get

After setup, you can use:

- `composer run stop` â†’ Stop everything
- `composer run shell` â†’ Access the app container
- `composer run artisan` â†’ Run Laravel commands
- `docker-compose logs -f` â†’ See what's happening

**Like TV remote buttons** ğŸ“º - each does something specific!

---

## Configuration Files

To automate the deployment of a Laravel project using Docker, we need multiple configuration files.

```txt
ğŸ“ Laravel Docker Project
â”œâ”€â”€ ğŸ”§ .env.docker           â† Laravel app settings
â”œâ”€â”€ ğŸ³ docker-compose.yml    â† Container coordinator
â”œâ”€â”€ ğŸ“¦ composer.json         â† PHP package manager
â”œâ”€â”€ ğŸ”§ .env                  â† composer settings
â””â”€â”€ ğŸ“ docker/               â† Container recipes
    â”œâ”€â”€ ğŸ˜ php/
    â”‚   â”œâ”€â”€ Dockerfile       â† PHP container recipe
    â”‚   â””â”€â”€ php.ini          â† PHP development settings
    â”œâ”€â”€ ğŸŒ nginx/
    â”‚   â”œâ”€â”€ Dockerfile       â† Web server recipe
    â”‚   â””â”€â”€ nginx.conf       â† Web server settings
    â””â”€â”€ ğŸ—„ï¸ mysql/
        â”œâ”€â”€ Dockerfile       â† Database container recipe
        â””â”€â”€ init.sql         â† Database initialization
```

---

### ğŸ”§ File #1: `.env.docker` (Laravel Application Settings)

This will be copied into the Laravel project directory as `.env`.

**What is it?** Environment variables file for Laravel
**Think of it as:** Your app's preferences file

**Key sections:**

```bash
APP_NAME="Laravel Docker App"     # What to call your app
APP_DEBUG=true                    # Show errors (helpful for learning)
APP_URL=http://localhost:8080     # Where people find your app
```

**Like:** Setting your name, phone wallpaper, and notification preferences

---

## ğŸ—„ï¸ Database Settings in `.env.docker`

```bash
DB_CONNECTION=mysql          # Type of database (MySQL)
DB_HOST=mysql               # Where the database lives (container name)
DB_PORT=3306                # Database door number
DB_DATABASE=laravel         # Database name
DB_USERNAME=laravel         # Username to access database
DB_PASSWORD=laravel_password # Password to access database
```

Laravel knows the database information from these settings.

**Analogy:** Like giving your app the address, apartment number, and keys to the database building

---

## ğŸ”§ Understanding Two Types of Environment Variables

### ğŸ“± Laravel App Configuration (`.env.docker` â†’ `hello/.env`)

**Purpose:** Tell Laravel **HOW** to connect to MySQL  
**Used by:** Laravel application code at runtime

```bash
# These variables tell Laravel:
DB_HOST=mysql               # "Connect to container named 'mysql'"
DB_DATABASE=laravel         # "Use database called 'laravel'"
DB_USERNAME=laravel         # "Login as user 'laravel'"
DB_PASSWORD=laravel_password # "Use this password"
```

---

Without using Docker, we use the IP address to specify the DB_HOST.

```bash
DB_HOST=127.0.0.1 # <--
DB_PORT=3306
```

---

#### ğŸ“§ Other Services in `.env.docker`

```bash
MAIL_MAILER=log             # How to send emails (log = fake for testing)
CACHE_DRIVER=database       # Where to store temporary data
SESSION_DRIVER=file         # How to remember logged-in users
```

**Think of it as:** Telling your app which postal service to use, where to put sticky notes, and how to remember friends

---

## ğŸ³ File #2: `docker-compose.yml`

### The Orchestra Conductor

**What is it?** Tells Docker how to run multiple containers together  
**Think of it as:** A conductor's sheet music ğŸ¼

**Three main "musicians":**

- ğŸŒ **nginx** (Web Server) - Greets visitors
- ğŸ˜ **php** (Application) - Runs Laravel code  
- ğŸ—„ï¸ **mysql** (Database) - Stores data

---

## ğŸŒ Nginx Service Configuration (1/3)

```yaml
nginx:
  build: ./docker/nginx        # Use our custom recipe
  container_name: laravel-nginx # Name this container
  ports:
    - "8080:80"               # Map port 8080 (outside) to 80 (inside)
  volumes:
    - ./hello:/var/www/html   # Share Laravel code with container
  depends_on:
    - php                     # Wait for PHP to start first
```

**Analogy:** Setting up a receptionist desk that forwards visitors to the correct department

---

## ğŸ˜ PHP Service Configuration (2/3)

```yaml
php:
  build: ./docker/php          # Use our PHP recipe
  container_name: laravel-php  # Name this container
  volumes:
    - ./hello:/var/www/html    # Share Laravel code
  depends_on:
    mysql:
      condition: service_healthy # Wait for database to be ready
```

In the volumes, the Laravel project (hello) is mapped to internal /var/www/html, and other files are copied into the container.

```bash
COPY php.ini /usr/local/etc/php/conf.d/laravel.ini
```

**Like:** Setting up a chef who needs access to the kitchen (code) and waits for ingredients (database) to arrive

---

## ğŸ—„ï¸ MySQL Service Configuration (3/3)

```yaml
mysql:
  build: ./docker/mysql            # Use our custom MySQL recipe
  container_name: laravel-mysql
  environment:                      # âœ… Pass environment variables from host
    - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
    - MYSQL_DATABASE=${MYSQL_DATABASE}
    - MYSQL_USER=${MYSQL_USER}
    - MYSQL_PASSWORD=${MYSQL_PASSWORD}
  volumes:
    - mysql-data:/var/lib/mysql
    - ./docker/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql  # Database initialization
  networks:
    - laravel-network
```

From the environment variablse, Docker automatically runs the equivalent SQL.

```sql
CREATE DATABASE IF NOT EXISTS student_api;
CREATE USER 'student'@'%' IDENTIFIED BY 'secret';
GRANT ALL PRIVILEGES ON student_api.* TO 'student'@'%';
```

---

### healthcheck

```yaml
healthcheck:
  test: ["CMD-SHELL", "mysqladmin ping -h 127.0.0.1 -u root -p$MYSQL_ROOT_PASSWORD --silent"]
  interval: 10s
  timeout: 5s
  retries: 5
  start_period: 30s
```

**Like:** Setting up a secure filing cabinet with specific locks and keys ğŸ—ƒï¸ğŸ”

---

#### ğŸ—„ï¸ Understanding MySQL Health Checks

**What is a Health Check?**  
A health check is like asking "Are you ready to work?" before giving someone a task.

**Breaking it down:**

- `mysqladmin ping`: Tests if MySQL can accept connections
- `-h 127.0.0.1`: Connect to localhost (more reliable than "mysql")
- `-u root`: Use root user credentials
- `-p$MYSQL_ROOT_PASSWORD`: Use password from environment variable
- `--silent`: Don't show verbose output

---

**Note:**

- `CMD-SHELL` allows shell variable expansion (`$MYSQL_ROOT_PASSWORD`)
- `start_period: 30s` gives MySQL time to initialize without marking it unhealthy
- This prevents Laravel from trying to connect before MySQL is truly ready

**Like:** Making sure the librarian is at their desk before asking for a book!

---

### ğŸ³ Container Configuration by Docker Compose (`.env` file)

**Purpose:** Tell MySQL container **WHAT** to create  
**Used by:** Docker Compose when starting containers

```bash
# These variables tell the MySQL container:
MYSQL_DATABASE=laravel         # "Create database called 'laravel'"
MYSQL_USER=laravel            # "Create user called 'laravel'"
MYSQL_PASSWORD=laravel_password # "Give user this password"
MYSQL_ROOT_PASSWORD=root       # "Set root password"
```

The PHP (Laravel) container will use the MySQL database generated from the MySQL container.

---

#### âš ï¸ Warning!

- Composer doesn't create a MySQL database.
- MySQL database is created INSIDE the MySQL container, not on your local machine.
- .env configures the container to create the database inside the container.
- No MySQL installed on your local machine - everything runs in containers.

---

#### ğŸ”§ Hint for backing up the DB!

The MySQL database is created INSIDE the MySQL container, so we need to keep a backup.

```mysql
# Create SQL backup file on your local machine
docker exec laravel-mysql mysqldump -u root -proot laravel > backup.sql

# Restore from backup
docker exec -i laravel-mysql mysql -u root -proot laravel < backup.sql
```

---

We can add a backup script to `composer.json` (will be explained in the next section).

```json
"scripts": {
  "backup": "docker exec laravel-mysql mysqldump -u root -proot laravel > backups/$(date +%Y%m%d_%H%M%S).sql",
  "restore": "docker exec -i laravel-mysql mysql -u root -proot laravel"
}
```

---

## ğŸ“¦ File #3: `composer.json`

### PHP Package Manager & Shortcuts

**What is it?** Tells PHP what libraries to install and provides shortcuts  
**Think of it as:** Your app's shopping list and remote control ğŸ“ºğŸ›’

**Two main parts:**

1. **Dependencies** - What libraries to download
2. **Scripts** - Shortcut commands

---

### ğŸ“š Dependencies in `composer.json`

```json
"require": {
  "php": "^8.1",              # Need PHP version 8.1 or newer
  "laravel/framework": "^10.10" # Need Laravel version 10.10+
}
```

**Like:** Telling your assistant "I need a car (PHP 8.1+) and GPS system (Laravel 10.10+)"

**Result:** Composer automatically downloads and installs everything you need!

---

### ğŸ® Scripts (Shortcuts) in `composer.json`

```json
"scripts": {
  "start": "docker-compose up -d",      # Start everything
  "stop": "docker-compose down",        # Stop everything  
  "shell": "docker exec -it laravel-php bash", # Access PHP container
  "artisan": "docker exec laravel-php php artisan" # Run Laravel commands
}
```

**Usage:** `composer run start` instead of typing long Docker commands (such as `docker-compose up -d`)!  
**Like:** TV remote buttons instead of manually adjusting settings

---

## ğŸ˜ File #4: `docker/php/Dockerfile`

### Recipe for PHP Container

**What is it?** Instructions to build a custom PHP container  
**Think of it as:** Recipe for a specialized chef ğŸ‘¨â€ğŸ³

**Steps:**

1. Start with basic PHP (base chef)
2. Install extra tools (give the chef special skills)
3. Configure settings (teach Chef your preferences)

---

## ğŸ”§ PHP Dockerfile Breakdown

```dockerfile
FROM php:8.2-fpm                    # Start with PHP 8.2
RUN apt-get install git curl zip... # Install system tools
RUN docker-php-ext-install pdo_mysql # Add database connection ability
COPY --from=composer /usr/bin/composer # Add package manager
WORKDIR /var/www/html               # Set kitchen location
RUN chown -R www-data:www-data...   # Set proper permissions
```

**Result:** A PHP container that can run Laravel and connect to MySQL! ğŸš€

---

### ğŸ˜ What is `php:8.2-fpm`?

- Itâ€™s a **Docker base image** built on **Debian/Ubuntu (Linux)**.  
- Already includes:
  - PHP 8.2 (compiled & ready)  
  - FPM (FastCGI Process Manager)  
- Maintained officially on **Docker Hub**.

### âœ… Benefits of Using `php:8.2-fpm`

- **Preconfigured PHP**: Maintained by Docker & PHP team  
- **Security updates**: Patched automatically in official image  
- **Consistency**: Same environment across all developers  
- **Less code**: No need to build PHP yourself

---

## ğŸŒ File #5: `docker/nginx/Dockerfile`  

### Recipe for Web Server Container

**What is it?** Instructions to build a custom web server  
**Think of it as:** Recipe for a specialized receptionist ğŸ‘©â€ğŸ’¼

```dockerfile
FROM nginx:alpine              # Start with a lightweight web server
COPY nginx.conf /etc/nginx/... # Give it our custom rules
RUN mkdir -p /var/www/html...  # Create workspace
RUN chown -R nginx:nginx...    # Set permissions
EXPOSE 80                      # Open door on port 80
```

---

### What is `nginx:alpine`?

It means the Nginx container uses Alpine Linux.

- Smaller image size  
- Faster builds & deployments  
- More secure containers  
- Efficient and portable base for web apps

---

## ğŸ—„ï¸ File #6: `docker/mysql/Dockerfile`

### Recipe for Database Container

**What is it?** Instructions to build a custom MySQL container  
**Think of it as:** Recipe for a specialized data manager ğŸ—ƒï¸

```dockerfile
FROM mysql:8.0

# Allow remote connections (for Docker networking)
ENV MYSQL_ROOT_HOST=%

# Minimal configuration for MySQL 8.0 compatibility
RUN echo '[mysqld]' > /etc/mysql/conf.d/laravel.cnf \
    && echo 'default-authentication-plugin=mysql_native_password' >> /etc/mysql/conf.d/laravel.cnf

EXPOSE 3306
```

---

**Benefits of using Dockerfile**

- **No Hardcoded Values**: Environment variables come from docker-compose.yml
- **Laravel Compatibility**: Uses `mysql_native_password` authentication
- **Flexible Configuration**: Same Dockerfile works for dev/staging/production
- **Security**: Credentials managed externally, not baked into image

**Result:** A clean, configurable MySQL container that gets settings from external sources!

---

### ğŸ¬ What is `mysql:8.0`?

- An **official MySQL Docker image** based on Linux (Debian/Ubuntu).  
- Includes:
  - MySQL 8.0 server pre-installed  
  - Default configuration files  
  - Scripts to initialize users/databases  

---

## ğŸ—„ï¸ File #7: `docker/mysql/init.sql`

### Database Initialization Script

**What is it?** SQL script that runs automatically when the container first starts  
**Think of it as:** Setting up the filing system in your new office ğŸ—‚ï¸

```sql
-- Simple Laravel database initialization
-- ensure the database exists - Laravel migrations will handle the rest
USE laravel;

-- Simple test to ensure the database is ready
SELECT 'Database ready for Laravel!' as status;
```

---

### ğŸ† How Initialization Works:

1. **First Container Start**: MySQL runs all `.sql` files in `/docker-entrypoint-initdb.d/`
2. **Volume Mounting**: `./docker/mysql/init.sql:/docker-entrypoint-initdb.d/init.sql`
3. **Automatic Execution**: No manual intervention needed
4. **One-Time Only**: Only runs on a fresh database (not on restarts)

**Perfect for:** Database seeding, initial user setup, or schema creation!

---

## âš™ï¸ File #8: `docker/nginx/nginx.conf`

### Web Server Rules & Behavior

**What is it?** Detailed instructions for how the web server should behave  
**Think of it as:** A receptionist's detailed job description ğŸ“‹

**Key responsibilities:**

- Listen on port 80 for visitors
- Send PHP files to the PHP container for processing
- Serve static files (images, CSS) directly
- Add security headers to protect users

---

### ğŸŒ Nginx Configuration Sections

```nginx
server {
  listen 80;                        # Listen on port 80
  root /var/www/html/public;        # Laravel's front door
  
  location / {                      # For regular pages
    try_files $uri /index.php;      # Try file, then Laravel
  }
  
  location ~ \.php$ {               # For PHP files
    fastcgi_pass laravel-php:9000;  # Send to PHP container
  }
  
  location ~* \.(css|js|png)$ {     # For static files
    expires 1y;                     # Cache for 1 year
  }
}
```

---

## ğŸ˜ File #9: `docker/php/php.ini`

### PHP Engine Settings

**What is it?** Detailed settings for how PHP should run  
**Think of it as:** Engine tuning for a race car ğŸï¸

**Key categories:**

- **Memory & Speed** - How much RAM to use, how long scripts can run
- **File Uploads** - How big files can be uploaded
- **Security** - What PHP is allowed to do
- **Error Reporting** - How to show problems (helpful for learning!)

---

## ğŸ”§ Important PHP Settings Explained

```ini
memory_limit = 512M              # Use up to 512MB RAM
max_execution_time = 300         # Scripts can run for 5 minutes max
upload_max_filesize = 50M        # Allow 50MB file uploads
display_errors = On              # Show errors (good for learning!)
```

**Analogy:** Like setting limits on your car - max speed, fuel tank size, safety features ğŸš—

**For Students:** `display_errors = On` means you'll see helpful error messages!

---

### Building for Production

The `docker/php/` also has `php-production.ini` and `Docker.prod` files for production release.

#### Development vs Production Dockerfiles

| Aspect             | Development      | Production                         |
|--------------------|------------------|------------------------------------|
| **Build Strategy** | Single stage     | Multi-stage build                  |
| **Code Copying**   | Volume mounted   | Copied into image                  |
| **Dependencies**   | All (dev + prod) | Production only                    |
| **Optimizations**  | None             | Laravel caching, composer optimize |
| **Security**       | Root user        | Non-root user (www-data)           |
| **Size**           | Larger           | Smaller, optimized                 |

---

#### Development vs Production PHP Configuration

| Setting                 | Development | Production | Why Different?                         |
|-------------------------|-------------|------------|----------------------------------------|
| **Memory Limit**        | 512M        | 256M       | Production needs resource control      |
| **Execution Time**      | 300s        | 60s        | Prevent long-running scripts in prod   |
| **Error Display**       | ON          | OFF        | Don't expose errors to users           |
| **File Upload Size**    | 50M         | 10M        | Security and resource control          |
| **OPcache Validation**  | Enabled     | Disabled   | Performance vs development flexibility |
| **Dangerous Functions** | Allowed     | Disabled   | Security hardening                     |

---

## ğŸ”— How All Files Work Together

```txt
1. docker-compose.yml reads Dockerfiles
   â†“
2. Dockerfiles build containers using .ini/.conf files  
   â†“
3. Containers start up with custom settings
   â†“
4. Laravel app uses the .env file (copied from the .env.docker) for configuration
   â†“
5. composer.json provides easy commands to manage everything
```

**Like:** Building a complete restaurant with specialized staff, each knowing their job! ğŸ½ï¸

---

## ğŸ¯ Real-World Analogy: Restaurant Setup

| File                 | Restaurant Role          | What It Does                 |
|----------------------|--------------------------|------------------------------|
| `docker-compose.yml` | ğŸ¬ **Manager**           | Coordinates everyone         |
| `nginx/Dockerfile`   | ğŸ‘©â€ğŸ’¼ **Hostess Recipe** | How to train hostess         |
| `nginx.conf`         | ğŸ“‹ **Hostess Rules**     | Where to seat guests         |
| `php/Dockerfile`     | ğŸ‘¨â€ğŸ³ **Chef Recipe**    | How to train chef            |
| `php.ini`            | âš™ï¸ **Kitchen Settings**  | Oven temp, tools available   |
| `mysql/Dockerfile`   | ğŸ—ƒï¸ **Manager Recipe**   | How to train data manager    |
| `mysql/init.sql`     | ğŸ—‚ï¸ **Filing System**    | How to organize data storage |
| `.env.docker`        | ğŸ“ **Contact Info**      | Phone numbers, addresses     |
| `composer.json`      | ğŸ“± **Speed Dial**        | Quick commands               |

---

## ğŸ’¡ Why So Many Files?

**Separation of Concerns** ğŸ¯

- Each file has ONE specific job
- Easy to modify without breaking others
- Different team members can work on different parts

**Like:** Having separate instruction manuals for:

- ğŸ“º TV remote (not mixing with microwave instructions)
- ğŸš— Car manual (separate from house manual)
- ğŸ‘• Washing machine (different from dishwasher)

---

## ğŸ” What Happens When You Run `setup.sh`?

1. **Creates Laravel project** ğŸ“
2. **Copies all config files** ğŸ“‹
3. **Updates docker-compose.yml** with your project name ğŸ”§
4. **Docker reads Dockerfiles** â†’ Builds containers ğŸ—ï¸
5. **Containers use .ini/.conf files** â†’ Custom settings âš™ï¸
6. **Laravel uses .env.docker** â†’ Connects to database ğŸ”—
7. **composer.json provides shortcuts** â†’ Easy management ğŸ®

---

## ğŸ› ï¸ Practical Tips for Students

**To modify settings:**

- Change app name â†’ Edit `.env.docker`  
- Add PHP extensions â†’ Edit `php/Dockerfile`
- Change web server behavior â†’ Edit `nginx.conf`
- Add shortcuts â†’ Edit `composer.json` scripts

**Golden Rule:** ğŸ¥‡ Always test changes with `composer run start`

**Safety Tip:** ğŸš¨ Make backups before changing configuration files!

---

## ğŸ“š Key Takeaways

âœ… **Configuration files are instruction manuals**  
âœ… **Each file has a specific purpose**  
âœ… **They work together like a team**  
âœ… **Changes in one file can affect others**  
âœ… **Understanding these makes you a better developer**

**Bottom Line:** These files turn a complex multi-service application into something manageable and maintainable! ğŸ¯
