---
marp: true
---

# Q4. CRUD Operations using PDO

---

## Question 1

This is a PHP code snippet to make a PDO connection setup with proper error handling and recommended options.
What are ??#

```php
try {
    $dsn = "mysql:host={$servername};dbname={$dbname};charset=utf8mb4";
    $options = [...];
    $pdo = new ??1($dsn, $username, $password, $options);
} catch (??2 $e) {
    exit("Connection failed: " . htmlspecialchars($e->getMessage()));
}
?>
```

**Answer:**

??1
??2

---

## Question 2

What does `declare(strict_types=1);` do, and why is it recommended?

**Answer:**

---

## Question 3

This is a skeleton PDO code to execute an SQL string using PDO. What are ??#

```php
echo "<h2>CREATE - Adding New Students</h2>";

try {
    $sql  = ...
    $stmt = $pdo->??1($sql);
    $stmt->??2([ ... ]);
} catch (PDOException $e) {
    echo "$e->??3()"
}
```

**Answer:**

??1
??2
??3

---

## Question 4

This is a skeleton of PDO to READ (display) all student records using a simple `query + fetchAll` approach.
What are ??#

```php
    $sql    = "SELECT id, name, age, major FROM students";
    $rows   = $pdo->??1($sql)->??2();

    if ($rows && count($rows) > 0) { ...
    } else { ...
    }
```

**Answer:**

??1
??2

---

## Question 5

What's the difference between `fetchAll()` and `fetch()` in PDO?

**Answer:**

---

## Question 6

This is a skeleton of PDO code to display READ (select) a specific student by ID using the (prepare + execute + fetch) approach.
What are ??#

```php
try {
    $student_id = 1;
    $sql  = "SELECT id, name, age, major FROM students WHERE id = :id";
    $stmt = $pdo->??1($sql);
    $stmt->??2([':id' => $student_id]);
    $row = $stmt->??3();

    if ($row) { ... 
    } else { ...
    }
} catch (PDOException $e) { ... }
```

**Answer:**

??1
??2
??3

---

## Question 7

This is a skeleton of PDO code to UPDATE an existing student record with error handling.
What is the ??# to prepare/execute/get the total count of rows?

```php
try {
    $sql  = "UPDATE students
             SET name = :name, age = :age, major = :major
             WHERE id = :id";
    $stmt = $pdo->??1($sql);
    $stmt->??2([ ... ]);

    if ($stmt->??3() > 0) {
    } else {
    }
} catch (PDOException $e) { ... }
```

**Answer:**

??1
??2
??3

---

## Question 8

What does `rowCount()` return, and when should you use it?

**Answer:**

---

## Question 9

The `rowCount()` returns 0, so the UPDATE failed. (T/F)

**Answer:**

---

## Question 10

This is a skeleton of PDO code to DELETE a student record with proper error handling.
What is the ??# to prepare/execute/get the total count of rows?

```php
try {
    $delete_id = 2;
    $sql  = "DELETE FROM students WHERE id = :id";
    $stmt = $pdo->??1($sql);
    $stmt->??2([':id' => $delete_id]);

    if ($stmt->??3() > 0) { ...
    } else { ...
    }
} catch (PDOException $e) { ...
}
```

**Answer:**

??1
??2
??3

---

## Question 11

What are the advantages of using PDO instead of MySQLi?

**Answer:**

---

## Question 12

Why should you use `htmlspecialchars()` when displaying error messages?

**Answer:**

---

## Summary

We have 12 questions on this page.

1. How many questions did you answer? ( / 12)
2. What percentage of questions did you answer? (  %)
3. List question numbers that you cannot answer:
4. (Optional) Explain why you could not answer these questions.
