---
marp: true
---

# Q3. Bearer Token Authentication

---

## Question 1

When we have an API Authentication problem, what is the solution?

**Answer:**

---

## Question 2

```txt
User enters: username="john", password="secret123"
System checks: Does this match our records?
If yes: "Here's your token!" (Bearer token issued)
If no: "Invalid credentials" (No token)
```

In this scenario, A bearer token is like a digital ticket (T/F).

**Answer:**

---

## Question 3

What is the relationship between JWT and Bearer tokens?

```txt
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjMsImV4cCI6MTYzMjQ4...
                ▲                    ▲
            Scheme              JWT Token
```

**Answer:**

---

## Question 4

This is the 4-step Bearer Token authentication flow.

1. **??1 once** → Get your token
2. **Keep the token** safe
3. **Send token** with every API request
4. **Server ??2** if token is valid

What is the first and last step? Fill in ??#

**Answer:**

??1
??2

---

## Question 5

This is a comparison between Cookies/Sessions/Bearer; Fill in ??#

| Method  | How it works                | Best for             |
|---------|-----------------------------|----------------------|
| **??1** | Browser automatically sends | Traditional websites |
| **??2** | Server stores user state    | Web applications     |
| **??3** | Client sends token manually | APIs, mobile apps    |

**Answer:**

??1
??2
??3

---

## Question 6

What is the name of the function that checks the bearer header and extracts the token (hint: first function in the bearer_auth.php)

**Answer:**

---

## Question 7

This is a demo function that checks if the token is valid or not. However, in a real app, we should check the database's validity (T/F).

```php
function isValidToken($token) {
    $validTokens = [
        'abc123' => 'john_doe',
        'xyz789' => 'jane_smith', 
        'def456' => 'admin_user',
        'student123' => 'student',
        'teacher456' => 'teacher'
    ];
    
    return isset($validTokens[$token]) ? $validTokens[$token] : false;
}
```

**Answer:**

---

## Question 8

This is a function that requires authentication for protected endpoints.

The first step is to retrieve the token from the request, and the second step is to verify its validity. Fill in ??#.

```php
function requireAuth() {
    $token = ??1();
    if (!$token) {
        sendJsonError(401, 'Bearer token required');
    }
    $user = ??2($token);
    if (!$user) { sendJsonError(401, 'Invalid or expired token'); }
    return $user;
}
```

**Answer:**

??1
??2

---

## Question 9

We have an API endpoint at api.php on a server.
These are the CURL commands to test Bearer token authentication. The Bearer token is "student123", fill in ??? to make a correct REST API request to the server.

```bash
curl -X GET "http://localhost:8000/api.php" \
     -H "???" \
     -H "Content-Type: application/json"
```

**Answer:**

---

## Question 10

This time, write JavaScript code to use Bearer tokens in a web application by filling in??#
The bearer token is stored in the $token variable.

```javascript
async function callProtectedAPI() {
    try {
        const response = await fetch('http://localhost:8000/api.php', {
            method: '??1',
            headers: {
                '??2',
                'Content-Type': 'application/json'
            }
        });
        const data = await response.json();
        ...
    } ...
}
```

**Answer:**

??1
??2

---

## Question 11

This is a sample PHP code to generate secure tokens for production use.

We generate random bytes (??1) and transform them into a hex value (??2). Fill in ??#.

```php
function generateSecureToken() {
    return ??2(??1(32)); 
}
```

**Answer:**

??1
??2

---

## Question 12

What are the proper HTTP status codes for Bearer token authentication errors? Fill in ??#.

- **??1 Unauthorized**: No token provided or invalid token
- **??2 Forbidden**: Valid token but insufficient permissions

**Answer:**

??1
??2

---

## Summary

We have 12 questions on this page.

1. How many questions did you answer? ( / 12)
2. What percentage of questions did you answer? (  %)
3. List question numbers that you cannot answer:
4. (Optional) Explain why you could not answer these questions.
