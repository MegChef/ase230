---
marp: true
---

# Q2. Request and Response in PHP

---

## Question 2.1

PHP automatically parses incoming HTTP requests and populates superglobal arrays. This is parsed results from raw HTTP. Fill in ??#

**Complex raw HTTP:**

```http
GET /api?name=John&age=25 HTTP/1.1
Host: localhost:8000
```

**Simple PHP access:**

```php
$method = $_SERVER['REQUEST_METHOD'];  // "GET"
$path = $_SERVER['REQUEST_URI'];       // "/api?name=John&age=25"
$name = $_GET['??1'];                 // "John"
$age = $_GET['??2'];                   // "25"
```

**Answer:**

??1
??2

---

## Question 2.2

From this HTML request line, why we can use $_GET to retrieve "name=John" and "age=25"?

```txt
GET /api?name=John&age=25 HTTP/1.1
```

**Answer:**

---

## Question 2.4

Users send an HTML form. Use the $_POST to access 'username' and 'password' information.

```html
<form method="post">
    <input type="text" name="username">
    <input type="password" name="password">
</form>
```

**Answer:**

---

## Question 2.3

How do you extract the path portion from a URL in PHP? Fill in ??#

```php
$path = $??1['REQUEST_URI'];
$path = ??2($path, PHP_URL_PATH); 
$path = trim($path, '/'); 
```

**Answer:**

??1
??2

---

## Question 2.5

Users make a request using a web browser `http://example.com/abc?a=b&c=d`

What are the values?

- `$_SERVER['REQUEST_URI']` =>
- `parse_url($path, PHP_URL_PATH)` =>
- `trim($path, '/')` =>

**Answer:**

---

## Question 2.6

The `parse_url()` function Parses a URL and returns its components. Fill in ??#

- Extracts only the ??1 part from a full URI
- Removes ??2 parameters, fragments, etc.
- Returns clean path for routing

```php
$path = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
```

**Answer:**

??1
??2

---

## Question 2.7

We have to parse `GET /api HTTP/1.1` to get the request method (GET). This is PHP code to do that. Fill in ??#

```php
$method = $_SERVER['??1'];

if ($_SERVER['??1'] !== '??2') {
    sendError('Only GET requests are allowed', 405);
    exit;
}
```

**Answer:**

??1
??2

---

## Question 2.8

In the server side program in PHP, now we need to generate response.
How do you set response headers in PHP, when we need to return JSON? Fill in ???

```php
// Set content type as JSON
header('Content-Type: application/???');
```

**Answer:**

---

## Question 2.9

When we need to set status code. What is the number for Not found (??1) and OK (??2).

```php
http_response_code(??1);  // Not Found
http_response_code(??2);  // OK
```

**Answer:**

??1
??2

---

## Question 2.10

This is a PHP function to send a JSON response. Fill in ??#

```php
function sendResponse($data, $message = 'Success') {
    header('Content-Type: application/json');
    echo ??1([
        'success' => true, 'message' => $message, 'data' => $data
    ], ??2);
}

// Usage
sendResponse(['name' => 'John'], 'User found');
```

**Answer:**

??1
??2

---

## Question 2.11

This is simple routing code snippet in PHP, I need to parse users' request and if the $path (endpoint) is 'api', I return JSON string. Fill in ???

```php
$path = $_SERVER['REQUEST_URI'];
$path = parse_url($path, PHP_URL_PATH); 
$path = trim($path, '/'); 

switch ($path) {
    case '':
    case '???':
        $info = ['name' => 'API', 'version' => '1.0'];
        sendResponse($info, 'Welcome to API');
        break;
    ...
}
```

**Answer:**

---

## Question 2.12

This is PHP error handling function. Using this function, respond with 'Not found' message of 404 code.

```php
function sendError($message, $code = 400) {
    http_response_code($code);
    header('Content-Type: application/json');
    echo json_encode([
        'success' => false,
        'message' => $message,
        'data' => null
    ], JSON_PRETTY_PRINT);
}
```

**Answer:**

---

## Question 2.13

There are five key benefits of how PHP handles web development. What is missing?

1. **Superglobals** provide instant access to request data
2. **Built-in functions** handle complex parsing automatically
3. **Simple syntax** makes code readable and maintainable
4. **Rich ecosystem** of functions designed for web development

**Answer:**

---

## Summary

We have 13 questions on this page.

1. How many questions did you answer? ( / 13)
2. What percentage of questions did you answer? (  %)
3. List question numbers that you cannot answer:
4. (Optional) Explain why you could not answer these questions.
